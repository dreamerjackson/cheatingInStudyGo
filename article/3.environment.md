# 开发环境


工欲善其事,必先利其器。在准备学习Go语言之前，需要准备好开发Go语言的执行环境。当我们讲安装语言的开发环境时，指的是什么？主要包含了两个方面的含义：
* 安装语言处理系统，从而能够解释、编译或运行编写的文本文件代码
* 舒服的编辑环境，包括函数跳转，自动补全等功能，帮助快速开发代码

我们编写的文本文件代码并不能直接运行。需要语言处理系统(Language Processing Systems)对其进行解析。从大类上来讲，由于语言处理系统的不同将编程语言分为了解释性语言和编译型语言。
python是解释性语言，我们书写python代码，并且通过python hello.py的方式轻松运行。
python命令实则执行的工作是将文本文件转换为了字节码(.pyc 或 .pyo)，并将字节码传递到叫做python虚拟机的程序中运行,python虚拟机将字节码翻译成已经被编译好的机器码，从而得到运行。这在很大程度上方便快速开发一些脚本。同一份代码可以运行在不同的操作系统之上，屏蔽了机器的细节。其缺点是有一个解析文本和翻译字节码的过程，导致程序相对运行速度慢。
而像go语言、C/C++语言被称为解释性语言，因为这样的语言处理系统称为编译器，直接将代码翻译为程序可以运行的二进制程序，并可在此基础上对程序进行最大程度的优化。
而java语言一般认为是两种技术的混合体，java拥有解释性语言的特点，不将代码直接转换为可执行文件。java会首先将代码转换为字节码（.class），并放入到java虚拟机当中运行。
同时，主流java虚拟机拥有即时编译(JIT compilation,Just-in-time compilation)的技术，即在程序执行期间进行编译。该概念基于这样一个事实，即解释所花费的时间主要用于在运行时获取和解释字节码。这种解释在程序执行时重复发生。
JIT 编译器读取许多部分的字节码，并将它们动态编译成机器代码，以便程序运行得更快。这可以在每个文件、每个函数甚至任意代码片段上完成；然后缓存并在以后重复使用，无需重新编译。这样可以避免解释器在下次遇到程序中的相同语句（例如循环）时重复翻译字节码。同时，JIT 还可以动态对程序进行优化，甚至是机器相关的优化。尽管 JIT 编译远不如真正的编译器好，但它通常可以将程序的性能提高2到5倍。

Go语言是编译型语言，编译器是一个大型且复杂的系统，一个好的编译器会很好地结合形式语言理论、算法、人工智能、系统设计、计算机体系结构及编程语言理论。
在经典的编译原理中，一般将编译器分为编译器前端、优化器和编译器后端。这种编译器被称为三阶段编译器（three-phase compiler）。其中，编译器前端主要专注于理解源程序、扫描解析源程序并进行精准的语义表达。编译器的中间阶段（Intermediate Representation，IR）可能有多个，编译器会使用多个IR 阶段、多种数据结构表示代码，并在中间阶段对代码进行多次优化。
例如，识别冗余代码、识别内存逃逸等。编译器的中间阶段离不开编译器前端记录的细节。编译器后端专注于生成特定目标机器上的程序，这种程序可能是可执行文件，也可能是需要进一步处理的中间形态obj文件、汇编语言等。
Go 语言编译器一般缩写为小写的gc（go compiler），需要和大写的GC（垃圾回收）进行区分。Go 语言编译器的执行流程可细化为多个阶段，包括词法解析、语法解析、抽象语法树构建、类型检查、变量捕获、函数内联、逃逸分析、闭包重写、遍历函数、SSA 生成、机器码生成

关于Go语言编译器的详细细节，可以查看笔者所著《Go语言底层原理剖析》。对于初学者来讲，我们只需要建立起足够的抽象屏障，理解编译器在程序运行中发挥的作用即可。要安装Go语言编译器，可以在官网中进行下载。一般会下载最新的稳定版本。在实际企业开发中，使用的版本可能会落后于最新版本，因此有时候需要下载特定版本进行调试研究。

## Go开发包安装方式（包括编译器）
Go语言开发包安装方式请参考如下(不同操作系统下安装方式有所不同)：
* [window系统](https://github.com/dreamerjackson/cheatingInStudyGo/blob/master/article/3.1%20install-windows.md)
* [mac系统](https://github.com/dreamerjackson/cheatingInStudyGo/blob/master/article/3.2%20install-macOS.md)
* [linux系统](https://github.com/dreamerjackson/cheatingInStudyGo/blob/master/article/3.3%20install-linux.md)

## 集成开发环境安装
对于一个成熟的开发人员来说，致力于用最便捷高效的开发工具来加速书写、调试go程序。集成开发环境（Integrated Development Environment，简称IDE）是一种辅助程序开发人员开发软件的应用软件，在开发工具内部就可以辅助编写源代码文本、并编译打包成为可用的程序，有些甚至可以设计图形接口。IDE通常包括编程语言编辑器、自动构建工具、通常还包括调试器。
大部分的集成开发环境都针对一种特点的语言,goland是JetBrains开发的一款针对go语言的跨平台IDE。支持windows、macOS与Ubuntu平台。因为专注，所以专业,goland为go程序提供了强大的支持。
除了goland，其他受欢迎的开发环境包括了vscode、vim、emacs。他们都具有支持go语言的相应插件，从而具备开发Go语言的丰富功能。
### 挑选集成开发环境考虑的元素
* 语法高亮是必不可少的功能，这也是为什么每个开发工具都提供配置文件来实现自定义配置的原因。
* 拥有较好的项目文件纵览和导航能力，可以同时编辑多个源文件并设置书签，能够匹配括号，能够跳转到某个函数或类型的定义部分。
* 完美的查找和替换功能，替换之前最好还能预览结果。
* 当有编译错误时，双击错误提示可以跳转到发生错误的位置。
* 跨平台，能够在 Linux、Mac OS X 和 Windows 下工作，这样就可以专注于一个开发环境。
* 能够通过插件架构来轻易扩展和替换某个功能。
* 拥有断点、检查变量值、单步执行、逐过程执行标识库中代码的能力。
* 能够方便的存取最近使用过的文件或项目。
* 拥有对包、类型、变量、函数和方法的智能代码补全的功能。
* 能够方便地在不同的 Go 环境之间切换。
* 针对一些特定的项目有项目模板，如：Web 应用，App Engine 项目，从而能够更快地开始开发工作






参考资料：
《Write Great Code, Volume 2, 2nd Edition》By Randall Hyde 4.3 Types of Computer Language Processors
